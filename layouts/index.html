{{ define "main" }}
  <!-- Hero -->
  <section class="square-background flex items-center justify-center md:min-h-[70vh]">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 px-5 py-12 md:py-16">
      <div class="flex items-center justify-center">
        <div class="h-[120px] w-[120px] md:h-[240px] md:w-[240px] rounded-[2rem] bg-white overflow-hidden shadow-soft">
          {{ with .Site.Params.avatar }}
            <img src="{{ . }}" alt="Avatar" class="w-full h-full object-cover" />
          {{ end }}
        </div>
      </div>
      <div class="w-full">
        <p class="text-gradient text-4xl md:text-5xl font-extrabold">
          {{ with .Site.Params.hero_intro }}{{ . | markdownify }}{{ else }}Hi there,{{ end }}
        </p>
        <div class="prose prose-invert max-w-none mt-3">
          {{ with .Site.Params.hero_body }}{{ . | markdownify }}{{ else }}
            Welcome to my portfolio. This theme mirrors a clean, modern personal site layout using Tailwind.
          {{ end }}
        </div>
        <div class="mt-7 flex space-x-6">
          {{ with .Site.Params.social.github }}
          <a class="btn-glow" href="{{ . }}" target="_blank" rel="noopener">
            <span class="btn-inner inline-flex items-center px-3 py-2 text-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.387.6.113.82-.262.82-.582 0-.287-.012-1.243-.017-2.254-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.237 1.84 1.237 1.07 1.834 2.807 1.304 3.492.997.108-.775.418-1.305.76-1.605-2.665-.303-5.466-1.332-5.466-5.93 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.3 1.23a11.5 11.5 0 0 1 3.003-.404c1.02.005 2.047.138 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.655 1.653.243 2.873.12 3.176.77.84 1.235 1.91 1.235 3.22 0 4.61-2.807 5.624-5.48 5.92.43.372.813 1.103.813 2.222 0 1.604-.015 2.896-.015 3.29 0 .323.216.701.825.58C20.565 21.795 24 17.297 24 12 24 5.37 18.63 0 12 0Z"/></svg>
              <span class="ml-2">GitHub</span>
            </span>
          </a>
          {{ end }}
          {{ with .Site.Params.social.linkedin }}
          <a class="btn-glow" href="{{ . }}" target="_blank" rel="noopener">
            <span class="btn-inner inline-flex items-center px-3 py-2 text-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0H5C2.239 0 0 2.239 0 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5V5c0-2.761-2.238-5-5-5zM7.119 20.452H4.275V9.031h2.844v11.421zM5.697 7.584c-.913 0-1.654-.741-1.654-1.654 0-.912.741-1.653 1.654-1.653.912 0 1.653.741 1.653 1.653 0 .913-.741 1.654-1.653 1.654zM20.452 20.452h-2.844v-5.561c0-1.326-.025-3.03-1.846-3.03-1.846 0-2.129 1.442-2.129 2.935v5.656H10.79V9.031h2.73v1.561h.038c.38-.72 1.309-1.479 2.695-1.479 2.884 0 3.417 1.898 3.417 4.366v7.0
              "></path></svg>
              <span class="ml-2">LinkedIn</span>
            </span>
          </a>
          {{ end }}
          {{ with .Site.Params.social.email }}
          <a class="btn-glow" href="{{ . }}">
            <span class="btn-inner inline-flex items-center px-3 py-2 text-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 13.065 0 6V4l12 7 12-7v2zM0 8l12 7 12-7v10H0z"/></svg>
              <span class="ml-2">Email</span>
            </span>
          </a>
          {{ end }}
        </div>
      </div>
    </div>
  </section>

  {{ partial "skills.html" . }}

  <!-- Projects -->
  {{/* Collect project pages from the conventional "projects" section */}}
  {{ $projects := where .Site.RegularPages "Section" "projects" }}
  {{ if gt (len $projects) 0 }}
  <section class="container mx-auto px-5 py-12">
    <h2 class="text-2xl font-bold mb-6">Projects</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {{ range $projects.ByWeight }}
        <article class="card rounded-xl p-5">
          <div class="flex items-start justify-between gap-4">
            <div>
              <h3 class="text-lg font-semibold">{{ .Title }}</h3>
              {{ with .Params.subtitle }}<p class="muted text-sm mt-1">{{ . }}</p>{{ end }}
            </div>
            {{ with .Params.links.github }}<a href="{{ . }}" target="_blank" rel="noopener" class="text-sm underline">GitHub</a>{{ end }}
          </div>
          {{ if .Summary }}
            <div class="mt-4">{{ .Summary }}</div>
          {{ else if .Params.description }}
            <p class="mt-4">{{ .Params.description }}</p>
          {{ end }}
          {{ with .Params.tags }}
          <div class="mt-4 flex flex-wrap gap-2">
            {{ range . }}<span class="text-xs px-2 py-1 rounded bg-white/5 border border-white/10">{{ . }}</span>{{ end }}
          </div>
          {{ end }}
        </article>
      {{ end }}
    </div>
  </section>
  {{ end }}
{{ end }}
